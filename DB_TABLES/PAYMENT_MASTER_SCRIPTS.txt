CREATE TABLE PAYMENT_BATCH_MASTER (
  SEQ_BATCH_ID NUMBER PRIMARY KEY,
  CORPORATE_ID VARCHAR2(50 CHAR),
  BATCH_NUMBER VARCHAR2(16 CHAR),
  BATCH_TIME NUMBER(10),
  RECORD_COUNT NUMBER(10,0),
  PAYMENT_PROD VARCHAR2(15 CHAR),
  AUTHMOD VARCHAR2(20 CHAR),
  REQUEST_MESSAGE_ID VARCHAR2(50 CHAR),
  RESPONSE_MESSAGE_ID VARCHAR2(50 CHAR),
  CREATED_DATE DATE,
  MODIFIED_DATE DATE,
  MAKER_ID VARCHAR2(50 CHAR),
  CHECKER_ID VARCHAR2(50 CHAR),
  REMARKS VARCHAR2(500 CHAR),
  DEBIT_DATE DATE,
  AUTH_MAKER VARCHAR2(50 CHAR),
  AUTH_CHECKER VARCHAR2(50 CHAR)
);

CREATE TABLE PAYMENT_DEBIT_MASTER (
  SEQ_DEBIT_ID            NUMBER PRIMARY KEY,
  BATCH_ID                NUMBER NOT NULL,
  AGENCY_IFSC             VARCHAR2(11 CHAR),
  AGENCY_ACCOUNT_NUMBER   VARCHAR2(35 CHAR),
  AGENCY_ACCOUNT_NAME     VARCHAR2(50 CHAR),
  DEBIT_AMOUNT            NUMBER(21,2),
  DEBIT_DATE              DATE,
  CPSMS_DEBIT_TRAN_ID     VARCHAR2(16 CHAR),
  DEBIT_STATUS            VARCHAR2(2 CHAR),
  DEBIT_STAN              VARCHAR2(15 CHAR),
  DEBIT_TRAN_ID           VARCHAR2(9 CHAR),
  DEBIT_TRAN_DATE         DATE,
  SYNC_STATUS             CHAR(1 BYTE),
  REMARKS                 VARCHAR2(500 CHAR),

  CONSTRAINT FK_PDM_BATCH
    FOREIGN KEY (BATCH_ID) REFERENCES PAYMENT_BATCH_MASTER(SEQ_BATCH_ID)
);


CREATE TABLE PAYMENT_CREDIT_MASTER (
  SEQ_CREDIT_ID            NUMBER PRIMARY KEY,
  SEQ_BATCH_ID             NUMBER,
  DEBIT_ID                 NUMBER,

  CREDIT_AMOUNT            NUMBER(21,2),
  CREDIT_IFSC              VARCHAR2(11 CHAR),
  CREDIT_ACCOUNT_NUMBER    VARCHAR2(35 CHAR),
  CREDIT_ACCOUNT_NAME      VARCHAR2(50 CHAR),
  CREDIT_ACCOUNT_ADDRESS   VARCHAR2(140 CHAR),
  CREDIT_UID               NUMBER(12,0),
  CREDIT_BANK_IIN          VARCHAR2(9 CHAR),

  PMT_MTD                  VARCHAR2(4 CHAR),
  RMT_INF                  VARCHAR2(150 CHAR),

  CPSMS_CREDIT_TRAN        VARCHAR2(16 CHAR),
  INITIATING_UTR           VARCHAR2(35 CHAR),
  NEW_INITIATING_UTR       VARCHAR2(35 CHAR),
  RETURNED_UTR             VARCHAR2(35 CHAR),
  TRAN_ID_FT               VARCHAR2(35 CHAR),
  TRAN_DATE_FT             DATE,

  CREDIT_STATUS            VARCHAR2(2 CHAR),
  CREDIT_STAN              VARCHAR2(15 CHAR),
  SYNC_STATUS              CHAR(1 BYTE),

  PAY_REJECT_REASON        VARCHAR2(100 CHAR),
  CRE_RETURN_REASON        VARCHAR2(100 CHAR),

  PAYMENT_INITI_REQ_ID     VARCHAR2(50 CHAR),
  PAYMENT_SUCCESS_REQ_ID   VARCHAR2(50 CHAR),
  FAILURE_REQUEST_ID       VARCHAR2(100 CHAR),

  CREATED_DATE             DATE,
  MODIFIED_DATE            DATE,
  CHECKSUM                 VARCHAR2(40 CHAR),
  REMARKS                  VARCHAR2(500 CHAR),
  LEI_CODE                 VARCHAR2(35 CHAR),

  C6346_INI                VARCHAR2(5 CHAR),
  C6366_INI                VARCHAR2(5 CHAR),
  C6346_SUCC               VARCHAR2(5 CHAR),
  C6366_SUCC               VARCHAR2(5 CHAR),
  C6346_REJ                VARCHAR2(5 CHAR),
  C6366_REJ                VARCHAR2(5 CHAR),

  Maker_LEI                VARCHAR2(10 CHAR),
  Checker_LEI              VARCHAR2(10 CHAR),
	 INIACK_NAME VARCHAR2(50 CHAR), 
	 SUCACK_NAME VARCHAR2(50 CHAR), 
	 REJACK_NAME VARCHAR2(50 CHAR), 
	 INI_GRP_STATUS VARCHAR2(10 CHAR), 
	 SUC_GRP_STATUS VARCHAR2(10 CHAR), 
	 REJ_GRP_STATUS  VARCHAR2(10 CHAR), 
	 INIACK_ERRORCODE  VARCHAR2(10 CHAR), 
	 SUCACK_ERRORCODE  VARCHAR2(10 CHAR), 
	 REJACK_ERRORCODE  VARCHAR2(10 CHAR),
	 INI_PUSHED_STATUS  VARCHAR2(5 CHAR),  
         SUC_PUSHED_STATUS  VARCHAR2(5 CHAR),  
         REJ_PUSHED_STATUS  VARCHAR2(5 CHAR)

  CONSTRAINT FK_PCM_BATCH
    FOREIGN KEY (SEQ_BATCH_ID) REFERENCES PAYMENT_BATCH_MASTER(SEQ_BATCH_ID),

  CONSTRAINT FK_PCM_DEBIT
    FOREIGN KEY (DEBIT_ID) REFERENCES PAYMENT_DEBIT_MASTER(SEQ_DEBIT_ID)
);


CREATE TABLE PAYMENT_REVERSAL_MASTER (
  REVERSAL_ID    NUMBER PRIMARY KEY,
  SEQ_CREDIT_ID  NUMBER,
  REV_TRAN_ID    VARCHAR2(9 CHAR),
  REV_TRAN_DATE  DATE,
  REVERSE_STAN   VARCHAR2(15 CHAR),
  RETURNED_UTR   VARCHAR2(35 CHAR),
  REMARKS        VARCHAR2(500 CHAR),

  CONSTRAINT FK_PRM_CREDIT
    FOREIGN KEY (SEQ_CREDIT_ID) REFERENCES PAYMENT_CREDIT_MASTER(SEQ_CREDIT_ID)
);



CREATE TABLE PAYMENT_REGEN_REQUESTS (
 REGEN_ID             NUMBER GENERATED BY DEFAULT AS IDENTITY PRIMARY KEY,
  BATCH_NUMBER         VARCHAR2(20 CHAR),
  RECORD_COUNT         NUMBER(10),
  PAYMENT_PROD         VARCHAR2(15 CHAR),
  REQUEST_MESSAGE_ID   VARCHAR2(50 CHAR),
  RESPONSE_MESSAGE_ID  VARCHAR2(50 CHAR),
  CREATED_DATE         DATE,
  MODIFIED_DATE        DATE,
  MAKER_ID             VARCHAR2(50 CHAR),
  CHECKER_ID           VARCHAR2(50 CHAR),
  FILETYPE             VARCHAR2(20 CHAR),
  ACTION               VARCHAR2(20 CHAR),
  C6346_INI             VARCHAR2(5 CHAR),
    C6366_INI             VARCHAR2(5 CHAR),
    C6346_SUCC            VARCHAR2(5 CHAR),
    C6346_REJ             VARCHAR2(5 CHAR),
    C6366_REJ             VARCHAR2(5 CHAR),
    AUTHMOD               VARCHAR2(20 CHAR),
    CREDIT_ACCOUNT_NUMBER VARCHAR2(35 CHAR),
    INITIATING_UTR        VARCHAR2(35 CHAR),
    TRAN_ID_FT            VARCHAR2(35 CHAR),
    PMT_MTD               VARCHAR2(4 CHAR),

         INI_GRP_STATUS VARCHAR2(10 CHAR), 
	 SUC_GRP_STATUS VARCHAR2(10 CHAR), 
	 REJ_GRP_STATUS  VARCHAR2(10 CHAR), 
	 INIACK_ERRORCODE  VARCHAR2(10 CHAR), 
	 SUCACK_ERRORCODE  VARCHAR2(10 CHAR), 
	 REJACK_ERRORCODE  VARCHAR2(10 CHAR),
  NEW_INI_ID     VARCHAR2(50 CHAR),
  NEW_SUCCESS_ID   VARCHAR2(50 CHAR),
  NEW_FAILURE_ID       VARCHAR2(50 CHAR),
    SEQ_CREDIT_ID NUMBER,
    SEQ_BATCH_ID   NUMBER,  
    DEBIT_ID       NUMBER  

);


CREATE TABLE TBL_CPSMS_AUDIT_TABLE (
  ID                    NUMBER(15,0) GENERATED BY DEFAULT AS IDENTITY NOT NULL,
  REQUESTMESSAGEID      VARCHAR2(50 CHAR),
  RESPONSEMESSAGEID     VARCHAR2(50 CHAR),
  BATCHNUMBER           VARCHAR2(16 CHAR),
  CPSMSDEBITTRANID      VARCHAR2(16 CHAR),
  CPSMSCREDITTRANID     VARCHAR2(16 CHAR),
  BATCHSTATUS           VARCHAR2(2 CHAR),
  DATE_TIME             DATE,
  RESPONSEMESSAGETIME   DATE,
  ACK_CODE              CHAR(1 BYTE),
  ERROR_CODE            VARCHAR2(100 CHAR),
  ACK_RECEIVED_DATE     DATE,
  MAKERID               VARCHAR2(50 CHAR),
  CHECKERID             VARCHAR2(50 CHAR),
  REMARKS1              VARCHAR2(200 CHAR),
  REMARKS2              VARCHAR2(200 CHAR),
  BANK_ID               VARCHAR2(8 CHAR) DEFAULT '01',
  CONSTRAINT PK_TBL_CPSMS_AUDIT PRIMARY KEY (ID)
);
